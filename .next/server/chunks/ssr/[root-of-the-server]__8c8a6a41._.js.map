{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohamedahmed/Documents/GitHub/Super-sheet-admin-FE/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, SyntheticEvent } from 'react';\n\n// next\nimport Link from 'next/link';\nimport Image from 'next/legacy/image';\nimport { useSession, signIn } from 'next-auth/react';\n\n// material-ui\nimport { Theme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\nimport Button from '@mui/material/Button';\nimport Checkbox from '@mui/material/Checkbox';\nimport Divider from '@mui/material/Divider';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Grid from '@mui/material/Grid2';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport InputLabel from '@mui/material/InputLabel';\nimport Links from '@mui/material/Link';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport Typography from '@mui/material/Typography';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\n\n// third-party\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\n\n// project-imports\nimport IconButton from 'components/@extended/IconButton';\nimport AnimateButton from 'components/@extended/AnimateButton';\nimport FirebaseSocial from './FirebaseSocial';\nimport { APP_DEFAULT_PATH } from 'config';\nimport { useRouter } from 'next/navigation';\n// assets\nimport { Eye, EyeSlash } from '@wandersonalwes/iconsax-react';\n\nconst Auth0 = '/assets/images/icons/auth0.svg';\nconst Cognito = '/assets/images/icons/aws-cognito.svg';\nconst Google = '/assets/images/icons/google.svg';\n\nexport default function AuthLogin({ providers, csrfToken }: any) {\n  const downSM = useMediaQuery((theme: Theme) => theme.breakpoints.down('sm'));\n  const [checked, setChecked] = useState(false);\n  const { data: session } = useSession();\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleMouseDownPassword = (event: SyntheticEvent) => {\n    event.preventDefault();\n  };\n\n  const router = useRouter();\n\n  const handleSubmit = async (values: any, { setErrors, setStatus, setSubmitting }: any) => {\n    try {\n      const trimmedEmail = values.email.trim();\n      const password = values.password;\n  \n      // Call next-auth signIn method\n      const result = await signIn('login', {\n        email: trimmedEmail,\n        password,\n        redirect: false, // Prevent automatic redirect, handle manually\n        callbackUrl: '/dashboard/finance' // Add explicit callback URL to prevent redirect loops\n      });\n  \n      if (result?.error) {\n        setStatus({ success: false });\n        setErrors({ submit: result.error || 'Login failed' });\n      } else {\n        setStatus({ success: true });\n        setSubmitting(false);\n        console.log('Login successful:', result);\n  \n        // Redirect after successful login\n        router.push('/dashboard/finance');\n      }\n    } catch (err: any) {\n      setStatus({ success: false });\n      setErrors({ submit: err.message || 'Something went wrong' });\n      setSubmitting(false);\n    }\n  };\n  \n\n  return (\n    <>\n      <Formik\n        initialValues={{\n          email: '',\n          password: '',\n          submit: null\n        }}\n        validationSchema={Yup.object().shape({\n          email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n          password: Yup.string()\n            .required('Password is required')\n            .test('no-leading-trailing-whitespace', 'Password can not start or end with spaces', (value) => value === value.trim())\n            .max(16, 'Password must be less than 16 characters')\n        })}\n        onSubmit={handleSubmit}\n      >\n        {({ errors, handleBlur, handleChange, handleSubmit, isSubmitting, touched, values }) => (\n          <form noValidate onSubmit={handleSubmit}>\n            <input name=\"csrfToken\" type=\"hidden\" defaultValue={csrfToken} />\n            <Grid container spacing={3}>\n              <Grid size={12}>\n                <Stack sx={{ gap: 1 }}>\n                  <InputLabel htmlFor=\"email-login\">Email Address</InputLabel>\n                  <OutlinedInput\n                    id=\"email-login\"\n                    type=\"email\"\n                    value={values.email}\n                    name=\"email\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    placeholder=\"Enter email address\"\n                    fullWidth\n                    error={Boolean(touched.email && errors.email)}\n                  />\n                </Stack>\n                {touched.email && errors.email && (\n                  <FormHelperText error id=\"standard-weight-helper-text-email-login\">\n                    {errors.email}\n                  </FormHelperText>\n                )}\n              </Grid>\n              <Grid size={12}>\n                <Stack sx={{ gap: 1 }}>\n                  <InputLabel htmlFor=\"password-login\">Password</InputLabel>\n                  <OutlinedInput\n                    fullWidth\n                    error={Boolean(touched.password && errors.password)}\n                    id=\"-password-login\"\n                    type={showPassword ? 'text' : 'password'}\n                    value={values.password}\n                    name=\"password\"\n                    onBlur={handleBlur}\n                    onChange={handleChange}\n                    endAdornment={\n                      <InputAdornment position=\"end\">\n                        <IconButton\n                          aria-label=\"toggle password visibility\"\n                          onClick={handleClickShowPassword}\n                          onMouseDown={handleMouseDownPassword}\n                          edge=\"end\"\n                          color=\"secondary\"\n                        >\n                          {showPassword ? <Eye /> : <EyeSlash />}\n                        </IconButton>\n                      </InputAdornment>\n                    }\n                    placeholder=\"Enter password\"\n                  />\n                </Stack>\n                {touched.password && errors.password && (\n                  <FormHelperText error id=\"standard-weight-helper-text-password-login\">\n                    {errors.password}\n                  </FormHelperText>\n                )}\n              </Grid>\n\n              <Grid sx={{ mt: -1 }} size={12}>\n                <Stack direction=\"row\" sx={{ gap: 2, justifyContent: 'space-between', alignItems: 'center' }}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        checked={checked}\n                        onChange={(event) => setChecked(event.target.checked)}\n                        name=\"checked\"\n                        color=\"primary\"\n                        size=\"small\"\n                      />\n                    }\n                    label={<Typography variant=\"h6\">Keep me sign in</Typography>}\n                  />\n                  <Links variant=\"h6\" component={Link} href={session ? '/auth/forgot-password' : '/forgot-password'} color=\"text.primary\">\n                    Forgot Password?\n                  </Links>\n                </Stack>\n              </Grid>\n              {errors.submit && (\n                <Grid size={12}>\n                  <FormHelperText error>{errors.submit}</FormHelperText>\n                </Grid>\n              )}\n              <Grid size={12}>\n                <AnimateButton>\n                  <Button disableElevation disabled={isSubmitting} fullWidth size=\"large\" type=\"submit\" variant=\"contained\" color=\"primary\">\n                    Login\n                  </Button>\n                </AnimateButton>\n              </Grid>\n            </Grid>\n          </form>\n        )}\n      </Formik>\n\n      {providers && (\n        <Stack\n          direction=\"row\"\n          spacing={{ xs: 1, sm: 2 }}\n          justifyContent={{ xs: 'space-around', sm: 'space-between' }}\n          sx={{ mt: 3, '& .MuiButton-startIcon': { mr: { xs: 0, sm: 1 }, ml: { xs: 0, sm: -0.5 } } }}\n        >\n          {Object.values(providers).map((provider: any) => {\n            if (provider.id === 'login' || provider.id === 'register') {\n              return;\n            }\n\n            return (\n              <Box key={provider.name} sx={{ width: '100%' }}>\n                <Divider sx={{ mt: 2 }}>\n                  <Typography variant=\"caption\"> Login with</Typography>\n                </Divider>\n                {provider.id === 'google' && (\n                  <Button\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    fullWidth={!downSM}\n                    startIcon={<Image src={Google} alt=\"Twitter\" width={16} height={16} />}\n                    onClick={() => signIn(provider.id, { callbackUrl: APP_DEFAULT_PATH })}\n                  >\n                    {!downSM && 'Google'}\n                  </Button>\n                )}\n                {provider.id === 'auth0' && (\n                  <Button\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    fullWidth={!downSM}\n                    startIcon={<Image src={Auth0} alt=\"Twitter\" width={16} height={16} />}\n                    onClick={() => signIn(provider.id, { callbackUrl: APP_DEFAULT_PATH })}\n                  >\n                    {!downSM && 'Auth0'}\n                  </Button>\n                )}\n                {provider.id === 'cognito' && (\n                  <Button\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    fullWidth={!downSM}\n                    startIcon={<Image src={Cognito} alt=\"Twitter\" width={16} height={16} />}\n                    onClick={() => signIn(provider.id, { callbackUrl: APP_DEFAULT_PATH })}\n                  >\n                    {!downSM && 'Cognito'}\n                  </Button>\n                )}\n              </Box>\n            );\n          })}\n        </Stack>\n      )}\n      {!providers && (\n        <Box sx={{ mt: 3 }}>\n          <FirebaseSocial />\n        </Box>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}